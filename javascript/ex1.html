<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Form Validation</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background: #f2f2f2;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
    }

    .container {
        width: 350px;
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px gray;
    }

    input {
        width: 100%;
        padding: 10px;
        margin-top: 5px;
        margin-bottom: 10px;
        border: 1px solid #aaa;
        border-radius: 5px;
    }

    input:focus {
        border-color: blue;
        background-color: #e8f0ff;
    }

    small {
        color: red;
        display: none;
    }

    button {
        padding: 10px 15px;
        margin-right: 10px;
        border: none;
        background: blue;
        color: white;
        border-radius: 5px;
        cursor: pointer;
    }

    button:hover {
        background: darkblue;
    }
</style>

</head>
<body>

<div class="container">
    <h2>User Registration</h2>

    <form id="myForm">
        
        <!-- Email -->
        <label>Email</label>
        <input type="text" id="email" placeholder="Enter Email">
        <small id="emailError">❌ Invalid Email</small>

        <!-- Password -->
        <label>Password</label>
        <input type="password" id="password" placeholder="Enter Password">
        <small id="passError">❌ Must be 8+ chars, include capital, small, number, special char</small>

        <!-- PAN -->
        <label>PAN Card Number</label>
        <input type="text" id="pan" placeholder="Enter PAN (e.g. ABCDE1234F)" maxlength="10">
        <small id="panError">❌ Invalid PAN Format (Use AAAAA9999A)</small>

        <br><br>

        <button type="submit">Submit</button>
        <button type="reset">Reset</button>

    </form>
</div>


<script>
    const email = document.getElementById("email");
    const password = document.getElementById("password");
    const pan = document.getElementById("pan");

    const emailError = document.getElementById("emailError");
    const passError = document.getElementById("passError");
    const panError = document.getElementById("panError");

    const form = document.getElementById("myForm");

    // REGEX
    const emailRegex = /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/;
    const passRegex  = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&]).{8,}$/;
    const panRegex   = /^[A-Z]{5}[0-9]{4}[A-Z]$/;

    // EMAIL BLUR
    email.addEventListener("blur", () => {
        if (emailRegex.test(email.value)) {
            emailError.style.display = "none";
        } else {
            emailError.style.display = "block";
        }
    });

    // PASSWORD BLUR
    password.addEventListener("blur", () => {
        if (!passRegex.test(password.value)) {
            passError.style.display = "none";
        } else {
            passError.style.display = "block";
        }
    });

    // PAN BLUR
    pan.addEventListener("blur", () => {
        if (panRegex.test(pan.value)) {
            panError.style.display = "none";
        } else {
            panError.style.display = "block";
        }
    });

    // SUBMIT
    form.addEventListener("submit", (e) => {
        e.preventDefault();

        let valid = true;

        if (!emailRegex.test(email.value)) {
            emailError.style.display = "block";
            valid = false;
        }

        if (!passRegex.test(password.value)) {
            passError.style.display = "block";
            valid = false;
        }

        if (!panRegex.test(pan.value)) {
            panError.style.display = "block";
            valid = false;
        }

        if (valid) {
            alert("Form Submitted Successfully!");
        }
    });

    // RESET
    form.addEventListener("reset", () => {
        emailError.style.display = "none";
        passError.style.display = "none";
        panError.style.display = "none";
    });
</script>

</body>
</html>
